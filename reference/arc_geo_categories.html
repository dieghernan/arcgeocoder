<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function is useful for extracting places with a given category (or list
of categories) near or within a given location or area. This is a wrapper
of arc_geo().
See arc_categories for a detailed explanation and available values.
Note that for obtaining results it is needed:
Either to provide a pair of coordinates (x,y parameters) that would be
used as a reference for geocoding,
Or a viewbox (aka bounding box) on the bbox parameter defining an
desired extent of the results.


It is possible to combine the two approaches (i.e. providing x,y,bbox
values) in order to boost the geocoding process. See Examples."><title>Geocode places on a given area by category — arc_geo_categories • arcgeocoder</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Geocode places on a given area by category — arc_geo_categories"><meta property="og:description" content="This function is useful for extracting places with a given category (or list
of categories) near or within a given location or area. This is a wrapper
of arc_geo().
See arc_categories for a detailed explanation and available values.
Note that for obtaining results it is needed:
Either to provide a pair of coordinates (x,y parameters) that would be
used as a reference for geocoding,
Or a viewbox (aka bounding box) on the bbox parameter defining an
desired extent of the results.


It is possible to combine the two approaches (i.e. providing x,y,bbox
values) in order to boost the geocoding process. See Examples."><meta property="og:image" content="https://dieghernan.github.io/arcgeocoder/logo.png"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@dhernangomez"><meta name="twitter:site" content="@dhernangomez"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100..700&amp;family=Inter:wght@100..900&amp;family=Inter+Tight:wght@100..900&amp;display=swap" rel="stylesheet"><!-- gitdevr tweaks --><link href="../BS5/gitdevr.css" rel="stylesheet"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">
      <img src="../apple-touch-icon-180x180.png" alt="arcgeocoder logo" height="34" class="d-inline-block me-1">
      arcgeocoder</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/arcgeocoder.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ex_leaflet.html">Example: arcgeocoder and leaflet maps</a>
    <a class="dropdown-item" href="../articles/ex_static.html">Example: arcgeocoder and static maps</a>
    <a class="dropdown-item" href="../articles/featuretypes.html">Reverse geocoding and feature types</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dieghernan/arcgeocoder/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Geocode places on a given area by category</h1>
      <small class="dont-index">Source: <a href="https://github.com/dieghernan/arcgeocoder/blob/main/R/arc_geo_categories.R" class="external-link"><code>R/arc_geo_categories.R</code></a></small>
      <div class="d-none name"><code>arc_geo_categories.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function is useful for extracting places with a given category (or list
of categories) near or within a given location or area. This is a wrapper
of <code><a href="arc_geo.html">arc_geo()</a></code>.</p>
<p>See <a href="arc_categories.html">arc_categories</a> for a detailed explanation and available values.</p>
<p><strong>Note that</strong> for obtaining results it is needed:</p><ul><li><p>Either to provide a pair of coordinates (<code>x,y</code> parameters) that would be
used as a reference for geocoding,</p></li>
<li><p>Or a viewbox (aka bounding box) on the <code>bbox</code> parameter defining an
desired extent of the results.</p></li>
</ul><p>It is possible to combine the two approaches (i.e. providing <code>x,y,bbox</code>
values) in order to boost the geocoding process. See <strong>Examples</strong>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">arc_geo_categories</span><span class="op">(</span></span>
<span>  <span class="va">category</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bbox <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lat <span class="op">=</span> <span class="st">"lat"</span>,</span>
<span>  long <span class="op">=</span> <span class="st">"lon"</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  full_results <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  custom_query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>category</dt>
<dd><p>A place or address type that can be used to filter results.
Several values can be used as well as a comma-separated string (i.e.
<code>"Cinema,Museum</code>). See <a href="arc_categories.html">arc_categories</a> for details.</p></dd>


<dt>x</dt>
<dd><p>longitude values in numeric format. Must be in the range
<code>[-180, 180]</code>.</p></dd>


<dt>y</dt>
<dd><p>latitude values in numeric format. Must be in the range
<code>[-90, 90]</code>.</p></dd>


<dt>bbox</dt>
<dd><p>A numeric vector of latitude and longitude
<code>c(minX, minY, maxX, maxY)</code> that restrict the search area.
See <strong>Details</strong>.</p></dd>


<dt>name</dt>
<dd><p>Optionally, a string indicating the name or address of the
desired results.</p></dd>


<dt>lat</dt>
<dd><p>latitude column name in the output data (default  <code>"lat"</code>).</p></dd>


<dt>long</dt>
<dd><p>longitude column name in the output data (default  <code>"lon"</code>).</p></dd>


<dt>limit</dt>
<dd><p>maximum number of results to return per input address. Note
that each query returns a maximum of 50 results.</p></dd>


<dt>full_results</dt>
<dd><p>returns all available data from the API service. This
is a shorthand of <code>outFields=*</code>. See <strong>References</strong>.
If <code>FALSE</code> (default) only the default values of the API would be returned.
See also <code>return_addresses</code>.</p></dd>


<dt>verbose</dt>
<dd><p>if <code>TRUE</code> then detailed logs are output to the console.</p></dd>


<dt>custom_query</dt>
<dd><p>API-specific parameters to be used, passed as a named
list.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="arc_geo.html">arc_geo</a></code></p><dl><dt><code>sourcecountry</code></dt>
<dd><p>Limits the candidates returned to the specified country
or countries. Acceptable values include the three-character country code.
You can specify multiple country codes to limit results to more than one
country.</p></dd>

    <dt><code>outsr</code></dt>
<dd><p>The spatial reference of the <code>x,y</code> coordinates returned by a
geocode request. By default is <code>NULL</code> (i.e. the parameter won't be used in
the query). See <strong>Details</strong> and <a href="arc_spatial_references.html">arc_spatial_references</a>.</p></dd>

    <dt><code>langcode</code></dt>
<dd><p>Sets the language in which reverse-geocoded addresses are
returned.</p></dd>

  
</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <a href="https://CRAN.R-project.org/package=tibble" class="external-link"><span class="pkg">tibble</span></a> with the results. See the details of the output
in <a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-service-output.htm" class="external-link">ArcGIS REST API Service output</a></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Bounding boxes can be located using different online tools, as
<a href="https://boundingbox.klokantech.com/" class="external-link">Bounding Box Tool</a>.</p>
<p>For a full list of valid categories see <a href="arc_categories.html">arc_categories</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="outsr"><code>outsr</code><a class="anchor" aria-label="anchor" href="#outsr"></a></h2>
    <p>The spatial reference can be specified as either a well-known ID (WKID). If
not specified, the spatial reference of the output locations is the same as
that of the service ( WGS84, i.e. WKID = 4326)).</p>
<p>See <a href="arc_spatial_references.html">arc_spatial_references</a> for values and examples.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://developers.arcgis.com/rest/geocode/api-reference/geocoding-category-filtering.htm" class="external-link">ArcGIS REST Category filtering</a>.</p>
<p><a href="arc_categories.html">arc_categories</a></p>
<p>Geocoding operations: 
<code><a href="arc_geo_multi.html">arc_geo_multi</a>()</code>,
<code><a href="arc_geo.html">arc_geo</a>()</code>,
<code><a href="arc_reverse_geo.html">arc_reverse_geo</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Full workflow: Gas Stations near Carabanchel, Madrid</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get Carabanchel</span></span></span>
<span class="r-in"><span><span class="va">carab</span> <span class="op">&lt;-</span> <span class="fu"><a href="arc_geo.html">arc_geo</a></span><span class="op">(</span><span class="st">"Carabanchel, Madrid, Spain"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ex1: Search near Carabanchel (not restricted)</span></span></span>
<span class="r-in"><span><span class="va">ex1</span> <span class="op">&lt;-</span> <span class="fu">arc_geo_categories</span><span class="op">(</span><span class="st">"Gas Station"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Location</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">carab</span><span class="op">$</span><span class="va">lon</span>, y <span class="op">=</span> <span class="va">carab</span><span class="op">$</span><span class="va">lat</span>,</span></span>
<span class="r-in"><span>  limit <span class="op">=</span> <span class="fl">50</span>, full_results <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">lon</span>, <span class="va">carab</span><span class="op">$</span><span class="va">lat</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="st">"red"</span>, pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.8</span>, <span class="op">-</span><span class="fl">3.65</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40.3</span>, <span class="fl">40.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"long"</span>, ylab <span class="op">=</span> <span class="st">"lat"</span>, main <span class="op">=</span> <span class="st">"Example 1: Search near"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># BBox of Carabanchel</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">xmin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">xmax</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymax</span>,</span></span>
<span class="r-in"><span>  border <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Points may be far away</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">ex1</span><span class="op">$</span><span class="va">lon</span>, <span class="va">ex1</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arc_geo_categories-1.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Include part of the name, different results</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ex2</span> <span class="op">&lt;-</span> <span class="fu">arc_geo_categories</span><span class="op">(</span><span class="st">"Gas Station"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Name</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"Repsol"</span>,</span></span>
<span class="r-in"><span>  <span class="co"># Location</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">carab</span><span class="op">$</span><span class="va">lon</span>, y <span class="op">=</span> <span class="va">carab</span><span class="op">$</span><span class="va">lat</span>,</span></span>
<span class="r-in"><span>  limit <span class="op">=</span> <span class="fl">50</span>, full_results <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">lon</span>, <span class="va">carab</span><span class="op">$</span><span class="va">lat</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="st">"red"</span>, pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.8</span>, <span class="op">-</span><span class="fl">3.65</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40.3</span>, <span class="fl">40.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"long"</span>, ylab <span class="op">=</span> <span class="st">"lat"</span>, main <span class="op">=</span> <span class="st">"Example 2: Search near with name"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># BBox of Carabanchel</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">xmin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">xmax</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymax</span>,</span></span>
<span class="r-in"><span>  border <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Points may be far away</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">ex2</span><span class="op">$</span><span class="va">lon</span>, <span class="va">ex2</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arc_geo_categories-2.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Near within a extent</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ex3</span> <span class="op">&lt;-</span> <span class="fu">arc_geo_categories</span><span class="op">(</span><span class="st">"Gas Station"</span>,</span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="st">"Repsol"</span>,</span></span>
<span class="r-in"><span>  bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">xmin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">xmax</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymax</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  limit <span class="op">=</span> <span class="fl">50</span>, full_results <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">lon</span>, <span class="va">carab</span><span class="op">$</span><span class="va">lat</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="st">"red"</span>, pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3.8</span>, <span class="op">-</span><span class="fl">3.65</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">40.3</span>, <span class="fl">40.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  xlab <span class="op">=</span> <span class="st">"long"</span>, ylab <span class="op">=</span> <span class="st">"lat"</span>,</span></span>
<span class="r-in"><span>  main <span class="op">=</span> <span class="st">"Example 3: Search near with name and bbox"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># BBox of Carabanchel</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></span><span class="op">(</span><span class="va">carab</span><span class="op">$</span><span class="va">xmin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymin</span>, <span class="va">carab</span><span class="op">$</span><span class="va">xmax</span>, <span class="va">carab</span><span class="op">$</span><span class="va">ymax</span>,</span></span>
<span class="r-in"><span>  border <span class="op">=</span> <span class="st">"blue"</span>,</span></span>
<span class="r-in"><span>  col <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Points may be far away</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span><span class="va">ex3</span><span class="op">$</span><span class="va">lon</span>, <span class="va">ex3</span><span class="op">$</span><span class="va">lat</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arc_geo_categories-3.png" alt="" width="2188" height="1352"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://dieghernan.github.io/" class="external-link">Diego Hernangómez</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> using the <a href="https://dieghernan.github.io/gitdevr/" class="external-link">gitdevr</a> template.</p>
</div>

    </footer></div>

  

  

  </body></html>

